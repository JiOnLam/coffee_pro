(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65de2456"],{"0486":function(t,e,a){},af5b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"updateName"},[a("van-nav-bar",{attrs:{title:"修改昵称","left-text":"返回","right-text":"保存","left-arrow":""},on:{"click-left":t.back,"click-right":function(e){return t.commit(t.nick)}}}),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.nick,expression:"nick"}],attrs:{type:"text",placeholder:"请输入修改昵称"},domProps:{value:t.nick},on:{input:function(e){e.target.composing||(t.nick=e.target.value)}}})])],1)},n=[],o={name:"UpdateName",data:function(){return{nick:"",nickName:""}},methods:{back:function(){this.$router.go(-1)},commit:function(t){var e=this,a=this.$cookies.get("tokenString");if(!a)return this.$router.push({name:"Login"});if(t==this.nickName)return this.$router.go(-1);var i=/^[A-Za-z0-9]{4,15}$/;if(!i.test(t))return this.$toast({message:"仅支持数字英文字母组合,长度为4-15位",forbidClick:!0,duration:2e3});this.axios({method:"POST",url:this.baseUrl+"/updateNickName",data:{appkey:this.appkey,tokenString:a,nickName:t}}).then((function(t){if(e.$toast.clear(),700==t.data.code)return e.$toast({message:t.data.msg,forbidClick:!0,duration:3e3}),e.$router.push({name:"Login"});"C001"===t.data.code?e.$router.go(-1):e.$toast({message:t.data.msg,forbidClick:!0,duration:3e3})})).catch((function(t){e.$toast.clear(),console.log(t)}))},getAccountInfo:function(){var t=this,e=this.$cookies.get("tokenString");if(!e)return this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:this.baseUrl+"/findAccountInfo",params:{appkey:this.appkey,tokenString:e}}).then((function(e){if(console.log(e),t.$toast.clear(),700==e.data.code)return t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3}),t.$router.push({name:"Login"});"B001"===e.data.code?(t.nick=e.data.result[0].nickName,t.nickName=e.data.result[0].nickName):t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3})})).catch((function(e){t.$toast.clear(),console.log(e)}))}},created:function(){this.getAccountInfo()}},s=o,r=(a("f82d"),a("2877")),c=Object(r["a"])(s,i,n,!1,null,"05b19dd9",null);e["default"]=c.exports},f82d:function(t,e,a){"use strict";a("0486")}}]);
//# sourceMappingURL=chunk-65de2456.78511dba.js.map